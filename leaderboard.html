<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.css">
	
    <link rel="stylesheet" href="style.css">

    <title>Leaderboard | RewardTrax - V5</title>
  </head>
  <body>
    <header></header>
    <main>
      <div class="container">
        <div class="col-xs-12 col-md-8 offset-md-2 text-center">
          <div id="page-titles">
            <h1><span class="fas fa-paper-plane"></span> Leaderboard</h1>
            <p>Find out where you currently rank.</p>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row"> 
          <div class="col-xs-12 col-md-9">
            <div class="infoHeading">
              <h3 class="mb-0">
                <div class="fa fa-th-list"></div> Current Stats
              </h3>
            </div>
            <div class="infoWrapper">
              <div class="row"> 
                <div class="card w-100">
                  <div class="table-responsive">
                    <table id="leaderboardTable" class="table table-striped table-hover">
                      <thead> 
                        <tr>
                          <th scope="col">ID</th>
                          <th scope="col">First Name</th>
                          <th scope="col">Last Name</th>
                          <th scope="col">Region</th>
                          <th scope="col">Total Points Awarded</th>
                        </tr>
                      </thead>
                      <tbody></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-xs-12 col-md-3">
            <div class="card leaderboardCard">
              <div class="card-title"> 
                <h4 class="leaderBoardAvatar mb-0"> <span class="fa fa-star"> </span><span> Star Performer</span></h4>
              </div>
              <div class="card-body text-center">
                <div class="leaderboardImage"><img src="images/leaderboardImage.png"></div>
                <h4 class="leaderName mt-3">Mahala MacKibbon</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer></footer>
	<!-- Optional JavaScript-->
    <!-- jQuery first, then Popper.js, then Bootstrap JS-->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
   
    <script src="./js/bootstrap.min.js"></script>
   <script src='https://cdnjs.cloudflare.com/ajax/libs/parallax.js/1.5.0/parallax.min.js'></script>
    <!-- Backstretch Script for Large Image Backgrounds  -->
    <script src='./js/jquery.backstretch.js'></script>
    <script src='./js/responsive-backgrounds.js'></script>
    <!-- Circle Gauge Script -->
    <script src='./js/jquery.circliful.min.js'></script>
    <script src='./js/goal-tracking.js'></script>
    <!-- Basic Theme Scripts -->
    <script src='./js/program-specific-scripts.js'></script>
	<script src="./js/RewardTraxCustom.js">
    </script>
    <!--JSON to populate the leaderboard table -->
    <script>
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
      // Typical action to be performed when the document is ready:
        var response = JSON.parse(xhttp.responseText);
        var people = response.people;
        
        var output = '<table class="table"><thead><tr><th scope="col">#</th><th scope="col">First</th><th scope="col">Last</th><th scope="col">Region</th><th scope="col">Points Awarded</th></tr></thead><tbody>';
        for(var i = 0; i<people.length; i++){
        output += '<tr><td>' + people[i].id + '</td><td>' + people[i].first_name + '</td><td>' + people[i].last_name + '</td><td>' + people[i].state + '</td><td>' + people[i].points + '</td></tr>';
        }
          document.getElementById('leaderboardTable').innerHTML = output;
      
      }
      };
      xhttp.open("GET", "./js/leaderboardNames.json", true);
      xhttp.send();
      
        
    </script>
  </body>
</html>